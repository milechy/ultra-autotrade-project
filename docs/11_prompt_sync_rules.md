# 11_prompt_sync_rules.md
# 自動プロンプト同期ルール（GPTの認知を常に最新に保つためのルール）

このドキュメントは、  
**OctoBot × AI × Notion × Aave 自動運用システム開発において、  
GPT の認知を常に最新状態に保つための統一ルールセット** です。

GPT がフェーズ間で情報を失わず、  
仕様・コード・要件の一貫性を保ったまま開発を継続するために必須のルールです。

---

# 🎯 このルールの目的
- 仕様変更・フェーズ進行による認知のズレを防ぐ
- GPTチャット間で共通した“最新仕様”を維持する
- .mdファイルとGPTの状態の同期を自動で保つ
- コード・タスク・要件の誤解をゼロにする
- プロジェクトを「機械的に正しく進行」させる

---

# ==============================
# 🧠 1. GPTは常に .md を唯一の正しい仕様と認識する
# ==============================

## ✔ GPTが参照すべき仕様は必ず docs/ ディレクトリ内の .md とする
- 会話履歴よりも **.md が優先される**  
- 人間の発言よりも **仕様書の方が正確とみなす**

## ✔ GPTはコード・設計を作る前に必ず関連 .md を参照する  
例：  
- AI判定 → 05\_ai\_judgement_rules.md  
- OctoBot → 06\_octobot_signal_flow.md  
- Aave運用 → 07\_aave_operation_logic.md  

## ✔ .md の内容と会話内容に不一致があれば、GPTは必ず指摘する  
そして更新案を出す。

---

# ==============================
# 🧠 2. GPTはフェーズ開始時に「認知同期」を行う
# ==============================

各フェーズの入り口で GPT は次を確認する：

### ✔ 必要ファイルの存在  
### ✔ .md と既存コードの整合  
### ✔ 未完了タスクの引き継ぎ  
### ✔ フェーズの目的と範囲  
### ✔ 不明点（GPTが質問する）  

これにより GPT の“開始状態”が毎回完全に初期化・同期される。

---

# ==============================
# 🧠 3. GPTはフェーズ終了時に必ず「次フェーズシステムプロンプト」を生成する
# ==============================

すべてのフェーズは次を出力してから終了する：

1. 今フェーズの決定事項まとめ  
2. .md更新案  
3. GitHub Issue案  
4. GitHub PR案  
5. 次フェーズで必要なファイル一覧  
6. Zip生成スクリプト案  
7. **次フェーズGPT用のシステムプロンプト生成（必須）**

これによりフェーズ間の認知が連続的に維持される。

---

# ==============================
# 🧠 4. 要件変更は絶対に「要件変更チャット」でのみ扱う
# ==============================

フェーズチャットで以下は禁止：

❌ 新機能の相談  
❌ 仕様追加  
❌ ロジック変更  
❌ AI判定ルールの変更  
❌ Aave運用ルールの変更  

フェーズチャットでこれらが出た場合 GPTは必ずこう答える：

> 「この内容は要件変更です。要件変更チャットに入力してください。」

これによりフェーズチャットの純度が100%保たれる。

---

# ==============================
# 🧠 5. GPTは変更前に必ず“ファイル名を宣言”しなければならない
# ==============================

GPTはコードを書く前に：

### ✔ 編集対象ファイル名  
### ✔ 新規作成ファイル名  
### ✔ そのファイルで行う変更の説明  

を必ず宣言し、人間の承認を待つ。

→ 承認前にコードを書いたら **ルール違反**。

---

# ==============================
# 🧠 6. GPTは変更内容をすべて差分（diff形式）で提示する
# ==============================

例：

# 11_prompt_sync_rules.md
# 自動プロンプト同期ルール（GPTの認知を常に最新に保つためのルール）

このドキュメントは、  
**OctoBot × AI × Notion × Aave 自動運用システム開発において、  
GPT の認知を常に最新状態に保つための統一ルールセット** です。

GPT がフェーズ間で情報を失わず、  
仕様・コード・要件の一貫性を保ったまま開発を継続するために必須のルールです。

---

# 🎯 このルールの目的
- 仕様変更・フェーズ進行による認知のズレを防ぐ
- GPTチャット間で共通した“最新仕様”を維持する
- .mdファイルとGPTの状態の同期を自動で保つ
- コード・タスク・要件の誤解をゼロにする
- プロジェクトを「機械的に正しく進行」させる

---

# ==============================
# 🧠 1. GPTは常に .md を唯一の正しい仕様と認識する
# ==============================

## ✔ GPTが参照すべき仕様は必ず docs/ ディレクトリ内の .md とする
- 会話履歴よりも **.md が優先される**  
- 人間の発言よりも **仕様書の方が正確とみなす**

## ✔ GPTはコード・設計を作る前に必ず関連 .md を参照する  
例：  
- AI判定 → 05\_ai\_judgement_rules.md  
- OctoBot → 06\_octobot_signal_flow.md  
- Aave運用 → 07\_aave_operation_logic.md  

## ✔ .md の内容と会話内容に不一致があれば、GPTは必ず指摘する  
そして更新案を出す。

---

# ==============================
# 🧠 2. GPTはフェーズ開始時に「認知同期」を行う
# ==============================

各フェーズの入り口で GPT は次を確認する：

### ✔ 必要ファイルの存在  
### ✔ .md と既存コードの整合  
### ✔ 未完了タスクの引き継ぎ  
### ✔ フェーズの目的と範囲  
### ✔ 不明点（GPTが質問する）  

これにより GPT の“開始状態”が毎回完全に初期化・同期される。

---

# ==============================
# 🧠 3. GPTはフェーズ終了時に必ず「次フェーズシステムプロンプト」を生成する
# ==============================

すべてのフェーズは次を出力してから終了する：

1. 今フェーズの決定事項まとめ  
2. .md更新案  
3. GitHub Issue案  
4. GitHub PR案  
5. 次フェーズで必要なファイル一覧  
6. Zip生成スクリプト案  
7. **次フェーズGPT用のシステムプロンプト生成（必須）**

これによりフェーズ間の認知が連続的に維持される。

---

# ==============================
# 🧠 4. 要件変更は絶対に「要件変更チャット」でのみ扱う
# ==============================

フェーズチャットで以下は禁止：

❌ 新機能の相談  
❌ 仕様追加  
❌ ロジック変更  
❌ AI判定ルールの変更  
❌ Aave運用ルールの変更  

フェーズチャットでこれらが出た場合 GPTは必ずこう答える：

> 「この内容は要件変更です。要件変更チャットに入力してください。」

これによりフェーズチャットの純度が100%保たれる。

---

# ==============================
# 🧠 5. GPTは変更前に必ず“ファイル名を宣言”しなければならない
# ==============================

GPTはコードを書く前に：

### ✔ 編集対象ファイル名  
### ✔ 新規作成ファイル名  
### ✔ そのファイルで行う変更の説明  

を必ず宣言し、人間の承認を待つ。

→ 承認前にコードを書いたら **ルール違反**。

---

# ==============================
# 🧠 6. GPTは変更内容をすべて差分（diff形式）で提示する
# ==============================

例：
修正前
BUY 判定は sentiment > 0.3 の場合
修正後
BUY 判定は sentiment > 0.5 の場合


これにより、私が変更内容を誤解しない。

---

# ==============================
# 🧠 7. GPTは常に矛盾チェックをする
# ==============================

GPTは次の矛盾を随時チェックし、あれば報告する：

- .md とコードの不一致  
- フェーズ間の整合性問題  
- ロジックの破綻  
- タスク漏れ  
- 隠れた依存問題  

---

# ==============================
# 🧠 8. GPTはプロジェクトをまたいだ際にも同期を保つ
# ==============================

あるフェーズやチャットから別チャットへ移るとき：

- 最新の .md 内容  
- 次フェーズプロンプト  
- 必要ファイル情報  

を持っている前提で動く。

---

# ==============================
# 🧠 9. GPTは「推測で進める」ことを禁止する
# ==============================

不明点があれば必ず質問し、勝手な推測で進めない。

---

# ==============================
# 🧠 10. GPTは一貫してプロジェクトの目的を保持する
# ==============================

目的：

> **Notion → AI → OctoBot → Aave → 自動化**  
> をすべて連動させる「完全自動金融運用システム」を構築すること。

フェーズが変わってもこの目的を見失ってはいけない。

---

# 🎉 このルールを遵守することで得られる効果
- GPTが毎回正しく認知リセット & 同期される  
- フェーズ間のズレが0になる  
- .mdとの乖離が起きない  
- 大規模プロジェクトでも破綻しない  
- 実際のソフト開発と同等の精度でAIが行動できる  
- あなたは「OK」と言うだけで開発が進む  

---

# 📌 付録：GPTが遵守すべき禁止事項

### ❌ 未承認のコード生成  
### ❌ 勝手な仕様追加  
### ❌ フェーズ範囲外の作業  
### ❌ .mdへの無断変更  
### ❌ 要件変更をフェーズチャットで扱う  
### ❌ 古い仕様に基づく推測  

---

# 以上が、自動プロンプト同期ルールです。  
このファイルをプロジェクトに組み込むことで、  
GPTは“壊れないプロジェクト構造”の中で動作します。
